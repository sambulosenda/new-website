---
import Layout from '../layouts/Layout.astro';
import { projects, socialLinks, technologies } from '../data/projects';

const apps = projects;
---

<Layout title="Sambulo Senda — React Native Developer">
  <main class="bg-editor-bg">

    <!-- Hero -->
    <section class="min-h-screen flex items-center pt-24 pb-16 lg:pt-0 lg:pb-0 relative">
      <!-- Grid background -->
      <div class="absolute inset-0 opacity-[0.03]" style="background-image: linear-gradient(#79c0ff 1px, transparent 1px), linear-gradient(90deg, #79c0ff 1px, transparent 1px); background-size: 50px 50px;"></div>

      <div class="relative max-w-6xl mx-auto px-6 w-full">
        <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">

          <!-- Content -->
          <div class="space-y-8">
            <!-- Terminal-style intro -->
            <div class="font-mono text-sm space-y-2 animate-fade-in">
              <div class="text-gray-500">
                <span class="text-syntax-gray">// available for hire</span>
              </div>
              <div>
                <span class="text-syntax-purple">import</span>
                <span class="text-gray-100"> Developer </span>
                <span class="text-syntax-purple">from</span>
                <span class="text-syntax-orange"> "@react-native"</span>
              </div>
            </div>

            <!-- Main headline -->
            <h1 class="animate-fade-in" style="animation-delay: 100ms;">
              <span class="block text-4xl md:text-5xl lg:text-6xl font-semibold text-gray-100 leading-tight">
                Building apps
              </span>
              <span class="block text-4xl md:text-5xl lg:text-6xl font-semibold leading-tight mt-2">
                <span class="text-syntax-blue">users</span>
                <span class="text-gray-100"> actually</span>
                <span class="text-syntax-green"> love</span>
              </span>
            </h1>

            <!-- Code-style description -->
            <div class="font-mono text-sm bg-editor-surface border border-editor-border rounded-lg p-4 animate-fade-in" style="animation-delay: 200ms;">
              <div class="flex items-center gap-2 mb-3">
                <span class="w-3 h-3 rounded-full bg-syntax-red"></span>
                <span class="w-3 h-3 rounded-full bg-syntax-yellow"></span>
                <span class="w-3 h-3 rounded-full bg-syntax-green"></span>
                <span class="text-gray-500 ml-2 text-xs">about.ts</span>
              </div>
              <code class="block text-gray-400">
                <span class="text-syntax-purple">const</span>
                <span class="text-syntax-blue"> sambulo</span>
                <span class="text-gray-400"> = </span>
                <span class="text-syntax-orange">{`{`}</span>
                <br/>
                <span class="ml-4">role: </span>
                <span class="text-syntax-green">"React Native Developer"</span>,
                <br/>
                <span class="ml-4">experience: </span>
                <span class="text-syntax-orange">6</span>,
                <span class="text-syntax-gray"> // years</span>
                <br/>
                <span class="ml-4">focus: </span>
                <span class="text-syntax-green">"high-performance mobile apps"</span>
                <br/>
                <span class="text-syntax-orange">{`}`}</span>
              </code>
            </div>

            <!-- CTAs -->
            <div class="flex flex-wrap gap-4 animate-fade-in" style="animation-delay: 300ms;">
              <a
                href="https://cal.com/sambulosenda"
                target="_blank"
                class="group flex items-center gap-2 px-6 py-3 bg-syntax-blue text-editor-bg font-medium rounded-lg hover:bg-syntax-blue/90 transition-all"
              >
                <span class="w-2 h-2 bg-syntax-green rounded-full animate-pulse"></span>
                Book a call
                <svg class="w-4 h-4 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                </svg>
              </a>
              <a
                href="#work"
                class="px-6 py-3 border border-editor-border text-gray-300 font-medium rounded-lg hover:bg-editor-hover hover:border-gray-600 transition-all"
              >
                View projects
              </a>
            </div>

            <!-- Social Links -->
            <div class="flex items-center gap-4 pt-4 animate-fade-in" style="animation-delay: 400ms;">
              {socialLinks.map(({ url, platform, icon }) => (
                <a
                  href={url}
                  target="_blank"
                  class="w-10 h-10 flex items-center justify-center rounded-lg bg-editor-surface border border-editor-border text-gray-400 hover:text-syntax-blue hover:border-syntax-blue/50 transition-all"
                  aria-label={platform}
                >
                  <Fragment set:html={icon} />
                </a>
              ))}
            </div>
          </div>

          <!-- Profile / Visual -->
          <div class="relative animate-fade-in" style="animation-delay: 300ms;">
            <div class="relative">
              <!-- Code editor frame -->
              <div class="bg-editor-surface border border-editor-border rounded-xl overflow-hidden shadow-2xl shadow-black/50">
                <!-- Editor header -->
                <div class="flex items-center justify-between px-4 py-3 border-b border-editor-border">
                  <div class="flex items-center gap-2">
                    <span class="w-3 h-3 rounded-full bg-syntax-red"></span>
                    <span class="w-3 h-3 rounded-full bg-syntax-yellow"></span>
                    <span class="w-3 h-3 rounded-full bg-syntax-green"></span>
                  </div>
                  <span class="font-mono text-xs text-gray-500">sambulo.dev</span>
                  <div class="flex items-center gap-2">
                    <span class="w-2 h-2 bg-syntax-green rounded-full animate-pulse"></span>
                    <span class="font-mono text-xs text-syntax-green">online</span>
                  </div>
                </div>

                <!-- Profile image -->
                <div class="aspect-[4/5] relative">
                  <img
                    src="/profile.jpg"
                    alt="Sambulo Senda"
                    class="w-full h-full object-cover"
                  />
                  <!-- Overlay gradient -->
                  <div class="absolute inset-0 bg-gradient-to-t from-editor-surface via-transparent to-transparent"></div>
                </div>

                <!-- Editor footer -->
                <div class="px-4 py-3 border-t border-editor-border font-mono text-xs">
                  <div class="flex items-center justify-between text-gray-500">
                    <span>Ln 1, Col 1</span>
                    <span class="text-syntax-blue">TypeScript React</span>
                    <span>UTF-8</span>
                  </div>
                </div>
              </div>

              <!-- Floating status -->
              <div class="absolute -bottom-4 -right-4 px-4 py-2 bg-editor-surface border border-editor-border rounded-lg shadow-xl font-mono text-sm">
                <span class="text-syntax-green">$</span>
                <span class="text-gray-400 ml-2">status: </span>
                <span class="text-syntax-green">available</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Tech Stack -->
    <section class="py-16 border-y border-editor-border">
      <div class="max-w-6xl mx-auto px-6">
        <div class="flex items-center gap-4 mb-8">
          <span class="font-mono text-sm text-syntax-purple">const</span>
          <span class="font-mono text-sm text-syntax-blue">stack</span>
          <span class="font-mono text-sm text-gray-500">=</span>
          <span class="font-mono text-sm text-syntax-orange">[</span>
        </div>
        <div class="flex flex-wrap gap-3">
          {technologies.map((tech) => (
            <span class={`px-4 py-2 font-mono text-sm rounded-lg border transition-all ${
              tech.primary
                ? 'bg-syntax-blue/10 border-syntax-blue/30 text-syntax-blue'
                : 'bg-editor-surface border-editor-border text-gray-400 hover:border-gray-600 hover:text-gray-300'
            }`}>
              "{tech.name}"
            </span>
          ))}
        </div>
        <div class="mt-4">
          <span class="font-mono text-sm text-syntax-orange">]</span>
        </div>
      </div>
    </section>

    <!-- Work -->
    <section id="work" class="py-24">
      <div class="max-w-6xl mx-auto px-6">
        <!-- Section header -->
        <div class="mb-16">
          <div class="font-mono text-sm mb-4">
            <span class="text-syntax-gray">/**</span>
            <br/>
            <span class="text-syntax-gray"> * Selected projects</span>
            <br/>
            <span class="text-syntax-gray"> * From concept to App Store</span>
            <br/>
            <span class="text-syntax-gray"> */</span>
          </div>
          <h2 class="text-3xl lg:text-4xl font-semibold text-gray-100">
            Projects<span class="text-syntax-blue">.map()</span>
          </h2>
        </div>

        <!-- Portfolio Grid -->
        <div class="space-y-6">
          <!-- Featured project -->
          <article class="group animate-on-scroll" style="--delay: 0ms">
            <div class="relative aspect-[21/9] rounded-xl overflow-hidden bg-editor-surface border border-editor-border">
              <img
                src={apps[0].screenshot}
                alt={apps[0].title}
                class="w-full h-full object-cover object-top transition-transform duration-500 group-hover:scale-105"
                loading="lazy"
              />
              <div class="absolute inset-0 bg-gradient-to-t from-editor-bg via-editor-bg/60 to-transparent"></div>
              <div class="absolute bottom-0 left-0 right-0 p-8">
                <div class="flex gap-2 mb-3">
                  {apps[0].tags.map((tag) => (
                    <span class="px-2 py-1 bg-editor-surface/80 backdrop-blur border border-editor-border rounded font-mono text-xs text-gray-400">
                      {tag}
                    </span>
                  ))}
                </div>
                <h3 class="text-2xl font-semibold text-gray-100 mb-2">{apps[0].title}</h3>
                <p class="text-gray-400 text-sm max-w-xl">{apps[0].description}</p>
              </div>
            </div>
          </article>

          <!-- 3-column grid -->
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            {apps.slice(1, 4).map((app, i) => (
              <article class="group animate-on-scroll" style={`--delay: ${(i + 1) * 100}ms`}>
                <div class="relative aspect-[4/5] rounded-xl overflow-hidden bg-editor-surface border border-editor-border hover:border-gray-600 transition-colors">
                  <img
                    src={app.screenshot}
                    alt={app.title}
                    class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                    loading="lazy"
                  />
                  <div class="absolute inset-0 bg-gradient-to-t from-editor-bg via-editor-bg/40 to-transparent"></div>
                  <div class="absolute bottom-0 left-0 right-0 p-5">
                    <div class="flex gap-2 mb-2">
                      {app.tags.slice(0, 2).map((tag) => (
                        <span class="px-2 py-1 bg-editor-surface/80 backdrop-blur border border-editor-border rounded font-mono text-xs text-gray-500">
                          {tag}
                        </span>
                      ))}
                    </div>
                    <h3 class="text-lg font-semibold text-gray-100 mb-1">{app.title}</h3>
                    <p class="text-gray-500 text-sm line-clamp-2">{app.description}</p>
                  </div>
                </div>
              </article>
            ))}
          </div>
        </div>
      </div>
    </section>

    <!-- CTA -->
    <section class="py-24 border-t border-editor-border">
      <div class="max-w-3xl mx-auto px-6 text-center">
        <div class="font-mono text-sm mb-6 text-gray-500">
          <span class="text-syntax-gray">// ready to start?</span>
        </div>

        <h2 class="text-3xl lg:text-5xl font-semibold text-gray-100 mb-4">
          Let's <span class="text-syntax-blue">build()</span> something
        </h2>
        <p class="text-gray-400 mb-8 text-lg">
          together<span class="text-syntax-orange">;</span>
        </p>

        <div class="inline-block bg-editor-surface border border-editor-border rounded-xl p-6 mb-8">
          <code class="font-mono text-sm text-left block">
            <span class="text-syntax-purple">const</span>
            <span class="text-syntax-blue"> project</span>
            <span class="text-gray-400"> = </span>
            <span class="text-syntax-purple">await</span>
            <span class="text-syntax-yellow"> collaborate</span>
            <span class="text-gray-400">(</span>
            <span class="text-syntax-orange">{`{`}</span>
            <br/>
            <span class="ml-4 text-gray-400">developer: </span>
            <span class="text-syntax-green">"sambulo"</span>,
            <br/>
            <span class="ml-4 text-gray-400">client: </span>
            <span class="text-syntax-green">"you"</span>,
            <br/>
            <span class="ml-4 text-gray-400">outcome: </span>
            <span class="text-syntax-green">"success"</span>
            <br/>
            <span class="text-syntax-orange">{`}`}</span>
            <span class="text-gray-400">)</span>
            <span class="text-syntax-orange">;</span>
          </code>
        </div>

        <div class="flex flex-wrap gap-4 justify-center">
          <a
            href="https://cal.com/sambulosenda"
            target="_blank"
            class="group flex items-center gap-2 px-8 py-4 bg-syntax-blue text-editor-bg font-semibold rounded-lg hover:bg-syntax-blue/90 transition-all"
          >
            <span class="w-2 h-2 bg-syntax-green rounded-full animate-pulse"></span>
            Schedule call
            <svg class="w-4 h-4 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
            </svg>
          </a>
          <a
            href="mailto:sambulosenda@gmail.com"
            class="px-8 py-4 border border-editor-border text-gray-300 font-medium rounded-lg hover:bg-editor-hover hover:border-gray-600 transition-all font-mono text-sm"
          >
            sambulosenda@gmail.com
          </a>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="py-8 border-t border-editor-border">
      <div class="max-w-6xl mx-auto px-6">
        <div class="flex flex-col md:flex-row justify-between items-center gap-4 font-mono text-sm text-gray-500">
          <span>© {new Date().getFullYear()} sambulo.dev</span>
          <div class="flex gap-6">
            {socialLinks.map(({ url, platform }) => (
              <a href={url} target="_blank" class="hover:text-syntax-blue transition-colors">
                {platform.toLowerCase()}
              </a>
            ))}
          </div>
        </div>
      </div>
    </footer>

    <!-- Floating CTA -->
    <a
      id="floating-cta"
      href="https://cal.com/sambulosenda"
      target="_blank"
      class="fixed bottom-6 right-6 flex items-center gap-2 px-4 py-3 bg-syntax-blue text-editor-bg rounded-lg text-sm font-medium shadow-xl shadow-syntax-blue/20 opacity-0 translate-y-4 transition-all duration-300 pointer-events-none hover:bg-syntax-blue/90 z-40"
    >
      <span class="w-2 h-2 bg-syntax-green rounded-full animate-pulse"></span>
      hire()
    </a>
  </main>
</Layout>

<style>
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .animate-fade-in {
    animation: fade-in 0.6s ease-out forwards;
  }

  .animate-on-scroll {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    transition-delay: var(--delay, 0ms);
  }

  .animate-on-scroll.visible {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<script>
  // Intersection Observer for scroll animations
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    },
    { threshold: 0.1 }
  );

  document.querySelectorAll('.animate-on-scroll').forEach((el) => {
    observer.observe(el);
  });

  // Smooth scroll
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        target.scrollIntoView({ behavior: 'smooth' });
      }
    });
  });

  // Floating CTA visibility
  const floatingCta = document.getElementById('floating-cta');
  window.addEventListener('scroll', () => {
    if (window.scrollY > window.innerHeight * 0.8) {
      floatingCta?.classList.remove('opacity-0', 'translate-y-4', 'pointer-events-none');
    } else {
      floatingCta?.classList.add('opacity-0', 'translate-y-4', 'pointer-events-none');
    }
  }, { passive: true });
</script>
