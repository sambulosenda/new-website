---
import Layout from '../../layouts/Layout.astro';
const posts = await Astro.glob('./*.{md,mdx}');

const sortedPosts = posts.sort((a, b) => {
  return new Date(b.frontmatter.date).valueOf() - new Date(a.frontmatter.date).valueOf();
});
---

<Layout title="Blog â€” Sambulo Senda">
  <main class="bg-white dark:bg-zinc-950 pt-32 pb-20">
    <div class="max-w-3xl mx-auto px-6">

      <header class="mb-16">
        <h1 class="text-3xl font-medium text-zinc-900 dark:text-white tracking-tight mb-4">Blog</h1>
        <p class="text-zinc-500">Articles about React Native and mobile development.</p>
      </header>

      <div class="space-y-8">
        {sortedPosts.map(post => (
          <article class="group">
            <a href={post.url} class="block">
              <h2 class="font-medium text-zinc-900 dark:text-white group-hover:text-zinc-600 dark:group-hover:text-zinc-300 transition-colors mb-2">
                {post.frontmatter.title}
              </h2>

              {post.frontmatter.description && (
                <p class="text-sm text-zinc-500 mb-3">{post.frontmatter.description}</p>
              )}

              <div class="flex items-center gap-4 text-xs text-zinc-400">
                <time datetime={post.frontmatter.date}>
                  {new Date(post.frontmatter.date).toLocaleDateString('en-US', {
                    month: 'short',
                    day: 'numeric',
                    year: 'numeric'
                  })}
                </time>

                {post.frontmatter.tags && (
                  <div class="flex gap-2">
                    {post.frontmatter.tags.map((tag: string) => (
                      <span class="px-2 py-0.5 bg-zinc-100 dark:bg-zinc-800 rounded">{tag}</span>
                    ))}
                  </div>
                )}
              </div>
            </a>
          </article>
        ))}
      </div>

      {sortedPosts.length === 0 && (
        <p class="text-center text-zinc-500 py-12">No posts yet.</p>
      )}

    </div>
  </main>
</Layout>
