---
import Layout from '../layouts/Layout.astro';
import { projects } from '../data/projects';
---

<Layout title="Projects — Sambulo Senda">
  <main>
    <section class="pt-36 pb-20 sm:pt-44">
      <div class="max-w-3xl mx-auto px-4 sm:px-6">

        <header class="mb-12">
          <h1 class="text-2xl sm:text-3xl font-bold text-ink tracking-tight mb-3">Projects</h1>
          <p class="text-ink-muted">
            Apps I've built — each solving a unique problem.
          </p>
        </header>

        <div class="space-y-4">
          {projects.map((project) => {
            const Wrapper = project.url ? 'a' : 'div';
            return (
              <Wrapper
                href={project.url}
                target={project.url ? '_blank' : undefined}
                rel={project.url ? 'noopener noreferrer' : undefined}
                class={`group block bg-surface rounded-xl border border-border overflow-hidden hover:border-ink-faint/40 hover:shadow-sm transition-all ${project.url ? 'cursor-pointer' : ''}`}
              >
                <div class="flex flex-col sm:flex-row">
                  {project.screenshot && (
                    <div class="sm:w-48 shrink-0 overflow-hidden bg-surface-subtle flex items-center justify-center p-3 sm:p-4">
                      <img
                        src={project.screenshot}
                        alt={project.title}
                        class="w-full h-full max-h-40 object-contain rounded-lg"
                        loading="lazy"
                      />
                    </div>
                  )}
                  <div class="flex-1 p-5">
                    <div class="flex items-center gap-2 mb-1.5">
                      <h3 class="font-medium text-ink group-hover:text-accent transition-colors">
                        {project.title}
                      </h3>
                      {project.status && (
                        <span class={`shrink-0 text-xs px-1.5 py-0.5 rounded-full font-medium ${
                          project.status === 'Live' ? 'bg-emerald-50 text-emerald-600' :
                          project.status === 'Beta' ? 'bg-amber-50 text-amber-600' :
                          'bg-gray-100 text-gray-500'
                        }`}>
                          {project.status}
                        </span>
                      )}
                    </div>
                    <p class="text-sm text-ink-muted mb-3">{project.description}</p>
                    <div class="flex flex-wrap gap-1.5">
                      {project.tags.map(tag => (
                        <span class="text-xs px-2 py-0.5 rounded-md bg-surface-subtle text-ink-faint">
                          {tag}
                        </span>
                      ))}
                    </div>
                  </div>
                </div>
              </Wrapper>
            );
          })}
        </div>

      </div>
    </section>

    <footer class="border-t border-border py-12">
      <div class="max-w-3xl mx-auto px-4 sm:px-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 text-sm text-ink-muted">
        <span>&copy; {new Date().getFullYear()} sambulo.dev</span>
        <a href="mailto:sambulosenda@gmail.com" class="hover:text-ink transition-colors">sambulosenda@gmail.com</a>
      </div>
    </footer>
  </main>
</Layout>
